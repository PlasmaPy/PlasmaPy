Used `typing.Self` for type hint annotations for |Particle| and |CustomParticle|.
